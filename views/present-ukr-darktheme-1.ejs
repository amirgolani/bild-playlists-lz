<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/assets/css/style_11Themen.css">
    <title>TOUCH LAGEZENTRUM</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.3/gsap.min.js"></script>

</head>

<body>

    <video id="video" playsinline autoplay muted loop>
        <source src="/assets/gp/loop-ukr.webm" type="video/webm">
    </video>

    <div style="width: 1920px; 
        height: 1080px; 
        position: absolute; 
        object-fit: fill; 
        background-image: url(/assets/gp/test.jpg);
        background-size: cover;
        background-position: center" id="layoutBuildUp">
        <div style="width: 220px; 
            height: 1080px; 
            padding-left: 50px; 
            left: 0px; 
            top: 0px; 
            position: absolute; 
            background: linear-gradient(90deg, black 0%, rgba(0, 0, 0, 0) 100%); 
            flex-direction: column; 
            justify-content: center; 
            align-items: center; 
            gap: 12px; 
            display: inline-flex">
            <div onclick="handleSelect(this.id)" id="b_0" style="align-self: stretch; 
                height: 26px; 
                padding: 10px; 
                margin-top: 50px; 
                box-shadow: 12px 12px 100px black; 
                border-radius: 10px; 
                border: 1px #333333 solid; 
                justify-content: center; 
                align-items: center; 
                gap: 10px; 
                display: inline-flex">
                <div style="text-align: center; 
                    color: white; 
                    font-size: 20px; 
                    font-family: Gotham; 
                    font-weight: 400; 
                    line-height: 20px; 
                    word-wrap: break-word">
                    HOME</div>
            </div>
            <div onclick="handleSelect(this.id)" id="b_1" style="align-self: stretch; 
                height: 26px; 
                padding: 10px; 
                background-image: linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, black 100%), url(/assets/gp/test1.jpg);
                background-size: cover;
                box-shadow: 12px 12px 100px black; 
                border-radius: 10px; 
                border: 1px #333333 solid; 
                justify-content: center; 
                align-items: center; 
                gap: 10px; 
                display: inline-flex">
                <div style="text-align: center; 
                    color: white; 
                    font-size: 20px; 
                    font-family: Gotham; 
                    font-weight: 400; 
                    line-height: 20px; 
                    word-wrap: break-word">
                    AK-47</div>
            </div>
            <div onclick="handleSelect(this.id)" id="b_2" style="align-self: stretch; 
                height: 26px; 
                padding: 10px; 
                background-image: linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, black 100%), url(/assets/gp/test2.jpg);
                background-size: cover;
                box-shadow: 12px 12px 100px black; 
                border-radius: 10px; 
                border: 1px #333333 solid; 
                justify-content: center; 
                align-items: center; 
                gap: 10px; 
                display: inline-flex">
                <div style="text-align: center; 
                    color: white; 
                    font-size: 20px; 
                    font-family: Gotham; 
                    font-weight: 400; 
                    line-height: 20px; 
                    word-wrap: break-word">
                    LEOPARD</div>
            </div>
            <div onclick="handleSelect(this.id)" id="b_3" style="align-self: stretch; 
                height: 26px; 
                padding: 10px; 
                background-image: linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, black 100%), url(/assets/gp/test3.jpg);
                background-size: cover;
                box-shadow: 12px 12px 100px black; 
                border-radius: 10px; 
                border: 1px #333333 solid; 
                justify-content: center; 
                align-items: center; 
                gap: 10px; 
                display: inline-flex">
                <div style="text-align: center; 
                    color: white; 
                    font-size: 20px; 
                    font-family: Gotham; 
                    font-weight: 400; 
                    line-height: 20px; 
                    word-wrap: break-word">
                    RPG</div>
            </div>
            <div onclick="handleSelect(this.id)" id="b_4" style="align-self: stretch; 
                height: 26px; 
                padding: 10px; 
                background-image: linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, black 100%), url(/assets/gp/test4.jpg);
                background-size: cover;
                box-shadow: 12px 12px 100px black; 
                border-radius: 10px; 
                border: 1px #333333 solid; 
                justify-content: center; 
                align-items: center; 
                gap: 10px; 
                display: inline-flex">
                <div style="text-align: center; 
                    color: white; 
                    font-size: 20px; 
                    font-family: Gotham; 
                    font-weight: 400; 
                    line-height: 20px; 
                    word-wrap: break-word">
                    MIG</div>
            </div>
            <div onclick="handleSelect(this.id)" id="b_5" style="align-self: stretch; 
                height: 26px; 
                padding: 10px; 
                background-image: linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, black 100%), url(/assets/gp/test5.jpg);
                background-size: cover;
                box-shadow: 12px 12px 100px black; 
                border-radius: 10px; 
                border: 1px #333333 solid; 
                justify-content: center; 
                align-items: center; 
                gap: 10px; 
                display: inline-flex">
                <div style="text-align: center; 
                    color: white; 
                    font-size: 20px; 
                    font-family: Gotham; 
                    font-weight: 400; 
                    line-height: 20px; 
                    word-wrap: break-word">
                    KIEW</div>
            </div>
        </div>

        <div id="seek" hidden>

            <a class="floatLeft0" onclick="ctrlPlayVideo()">
                <i class="material-icons align">play_arrow</i>
            </a>
            <a class="floatLeft" onclick="pauseVideo()">
                <i class="material-icons align">pause</i>
            </a>

            <div id="timecode">00:00</div>

            <input id="seekslider" type="range" min="0" max="1500" value="0" step="1">

        </div>

    </div>
    <div style="left: 360px; 
    top: 420px; 
    position: absolute"><span style="color: white; 
            font-style: italic; 
            font-size: 128px; 
            font-family: Gotham Condensed; 
            font-weight: 500; 
            line-height: 96px; 
            word-wrap: break-word;">RUSSLANDS<br /></span>
        <span style="color: white; 
            font-style: italic; 
            font-size: 228px; 
            font-family: Gotham Condensed; 
            font-weight: 900; 
            line-height: 206px; 
            word-wrap: break-word">KRIEG</span>
    </div>
    <!-- <video id="video" playsinline autoplay muted loop>
        <source src="/assets/gp/loop-ukr.webm" type="video/webm">
    </video>

    <div id="layoutBuildUp">
        <a class="video pos0"
            onclick="playVideo('/assets/gp/loop-ukr.webm', 'loop', 'muted', 'noPlayButtons'); 
            unhighlight();">
            <i class="material-icons">home</i>
        </a>
    </div>

    <div id="seek" hidden>

        <a class="floatLeft0" onclick="ctrlPlayVideo()">
            <i class="material-icons align">play_arrow</i>
        </a>
        <a class="floatLeft" onclick="pauseVideo()">
            <i class="material-icons align">pause</i>
        </a>

        <div id="timecode">00:00</div>

        <input id="seekslider" type="range" min="0" max="1500" value="0" step="1">

    </div> -->

    <script>
        // Highlightet Button *//
        function highlight(e) {
            var videos = document.getElementsByClassName("video");
            for (const video of videos) {
                video.classList.remove("active");
            }
            e = e || window.event;
            e.srcElement.classList.add("active");
            console.log(e.srcElement);
        }

        // Unhighlightet Button *//
        function unhighlight(e) {
            var videos = document.getElementsByClassName("video");
            for (const video of videos) {
                video.classList.remove("active");
            }
        }

        // Audio optional part *//
        function playVideo(path, loop, volume = "muted", PlayButtons = "withPlayButtons") {
            var video = document.getElementById("video");
            var seek = document.getElementById("seek");

            if (PlayButtons == "withPlayButtons") {
                seek.hidden = false;
                console.log("withPlay");
            } else {
                seek.hidden = true;
            }


            console.log(video);
            video.setAttribute('src', path)

            if (loop == "loop" || loop == "true")
                video.loop = true;
            else {
                video.loop = false;
            }

            if (volume == "muted") {
                video.muted = true;
                video.volume = 0;
                console.log("Sem Audio");
            } else {
                video.muted = false;
                video.volume = 1;
                console.log("Com Audio");
            }
        }


    </script>

    <script>
        var seekslider;
        var video = document.getElementById('video'), frameTime = 1 / 25;
        seekslider = document.getElementById("seekslider");
        // Add event listeners
        seekslider.addEventListener("change", vidSeek, false);
        video.addEventListener("timeupdate", seektimeupdate, false);
        video.ontimeupdate = function () { timecodeUpdate() };
        function pauseVideo() {
            video.pause();
            console.log("pause");
        }
        function ctrlPlayVideo() {
            video.play();
            console.log("play");
        }
        function framePlus() {
            video.currentTime = Math.min(video.duration, video.currentTime + frameTime);
        }
        function frameMinus() {
            video.currentTime = Math.max(0, video.currentTime - frameTime);
        }

        function vidSeek() {
            pauseVideo();
            var seekto = video.duration * (seekslider.value / 1500);
            video.currentTime = seekto;
        }
        function seektimeupdate() {
            var nt = video.currentTime * (1500 / video.duration);
            seekslider.value = nt;
        }
        function timecodeUpdate() {
            // Display the current position of the video in a <p> element with id="demo"
            document.getElementById("timecode").innerHTML = formatSecondsAsTime(video.currentTime);
        }
        function formatSecondsAsTime(secs, format) {
            var hr = Math.floor(secs / 3600);
            var min = Math.floor((secs - (hr * 3600)) / 60);
            var sec = Math.floor(secs - (hr * 3600) - (min * 60));
            if (min < 10) {
                min = "0" + min;
            }
            if (sec < 10) {
                sec = "0" + sec;
            }

            return min + ':' + sec;


        }
    </script>

    <script>
        function getLayout() {

            var layout = `<div style="width: 220px; 
                                height: 1080px; 
                                padding-left: 50px; 
                                left: 0px; 
                                top: 0px; 
                                position: absolute; 
                                background: linear-gradient(90deg, black 0%, rgba(0, 0, 0, 0) 100%); 
                                flex-direction: column; 
                                justify-content: center; 
                                align-items: center; 
                                gap: 12px; 
                                display: inline-flex">
                                <div onclick="handleSelect(this.id)" id="b_0" style="align-self: stretch; 
                                    height: 26px; 
                                    padding: 10px; 
                                    margin-top: 50px; 
                                    background-image: linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgb(40, 53, 0) 100%), url(/assets/gp/home.jpg);
                                    background-size: cover;
                                    box-shadow: 12px 12px 100px black; 
                                    border-radius: 10px; 
                                    border: 1px #333333 solid; 
                                    justify-content: center; 
                                    align-items: center; 
                                    gap: 10px; 
                                    display: inline-flex">
                                    <div style="text-align: center; 
                                        color: white; 
                                        font-size: 20px; 
                                        font-family: Gotham; 
                                        font-weight: 400; 
                                        line-height: 20px; 
                                        word-wrap: break-word">
                                        HOME</div>
                                </div>
                                `;



            fetch('/layout-ukr').then((response) => response.json()).then((json) => {

                for (l = 1; l < json.length; l++) {
                    var filenameArr = json[l].file.split('storage-ukr')[1].substring(1);
                    console.log(`${filenameArr}`)

                    //     layout += `<a class="video pos${l}" onclick="playVideo('/assets/storage-ukr/${filenameArr}', '${json[l].loop ? 'loop' : 'notloop'}', '${json[l].mute ? 'muted' : 'unmuted'}', '${json[l].ctrl ? 'withPlayButtons' : 'noPlayButtons'}'); highlight();">
                    // ${json[l].name}
                    // </a>
                    // `
                    layout += ` <div onclick="handleSelect(this.id); playVideo('/assets/storage-ukr/${filenameArr}', '${json[l].loop ? 'loop' : 'notloop'}', '${json[l].mute ? 'muted' : 'unmuted'}', '${json[l].ctrl ? 'withPlayButtons' : 'noPlayButtons'}'); highlight();" id="b_${l}" style="align-self: stretch; 
                                height: 26px; 
                                padding: 10px; 
                                background-image: linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, black 100%), url(/assets/gp/test5.jpg);
                                background-size: cover;
                                box-shadow: 12px 12px 100px black; 
                                border-radius: 10px; 
                                border: 1px #333333 solid; 
                                justify-content: center; 
                                align-items: center; 
                                gap: 10px; 
                                display: inline-flex">
                                <div style="text-align: center; 
                                    color: white; 
                                    font-size: 20px; 
                                    font-family: Gotham; 
                                    font-weight: 400; 
                                    line-height: 20px; 
                                    word-wrap: break-word">
                                    ${json[l].name}
                                    </div>
                            </div>
                `

                }
                // console.log(layout)
                document.getElementById('layoutBuildUp').innerHTML = layout

            });

        }

        getLayout()
    </script>


    <script>

        var selectedElement = "b_0"

        function handleSelect(newID) {

            gsap.to(`#${newID}`, {
                duration: 1, // animation duration in seconds
                height: 120, // target height
                ease: "power4.inOut", // easing function
            });

            gsap.to(`#${selectedElement}`, {
                duration: 1, // animation duration in seconds
                height: 26, // target height
                ease: "power4.inOut", // easing function
            });

            selectedElement = newID;

        }

        // GSAP animation
        gsap.to("#b_0", {
            duration: 2, // animation duration in seconds
            height: 120, // target height
            ease: "power4.inOut", // easing function
        });
    </script>

</body>

</html>